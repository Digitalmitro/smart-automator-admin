import{r as e}from"./index-_oFzRGsN.js";import{j}from"./context-jyGzWJIQ.js";import{a3 as x,C as w}from"./UnstableContext-lQG3gTyD.js";function y(n){return r=>e.createElement(x,{theme:{token:{motion:!1,zIndexPopupBase:0}}},e.createElement(n,Object.assign({},r)))}const B=(n,r,E,z,R)=>y(o=>{const{prefixCls:f,style:d}=o,i=e.useRef(null),[g,m]=e.useState(0),[v,P]=e.useState(0),[a,C]=j(!1,{value:o.open}),{getPrefixCls:b}=e.useContext(w),h=b("select",f);e.useEffect(()=>{if(C(!0),typeof ResizeObserver<"u"){const c=new ResizeObserver(t=>{const s=t[0].target;m(s.offsetHeight+8),P(s.offsetWidth)}),u=setInterval(()=>{var t;const s=`.${h}-dropdown`,p=(t=i.current)===null||t===void 0?void 0:t.querySelector(s);p&&(clearInterval(u),c.observe(p))},10);return()=>{clearInterval(u),c.disconnect()}}},[]);let l=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},d),{margin:0}),open:a,visible:a,getPopupContainer:()=>i.current});Object.assign(l,{[r]:{overflow:{adjustX:!1,adjustY:!1}}});const O={paddingBottom:g,position:"relative",minWidth:v};return e.createElement("div",{ref:i,style:O},e.createElement(n,Object.assign({},l)))});export{B as g,y as w};
