import{k as S,r as s,j as e}from"./index-C3g2134x.js";import{a as A}from"./logo-CSkKVHs_.js";import{C as _}from"./CCard-CJAXVKeb.js";import{m as r}from"./proxy-0-9FxVb5.js";import{C as b}from"./CCardHeader-BjuGo4YC.js";var D={REACT_APP_BACKEND_API:"https://api.smartautomator.com"};const I=()=>{const h=S(),[m,x]=s.useState([]),[i,j]=s.useState(""),[c,u]=s.useState("Date"),[p,f]=s.useState([]),v=async()=>{const t=await A.get(`${D.REACT_APP_BACKEND_API}/alluser`);x(t.data);const a=t.data.filter(l=>l.type==="Night");g(i,c,a)};console.log(m),s.useEffect(()=>{v()},[i,c]);const C=t=>{j(t.target.value)},N=t=>{u(t.target.value)},g=(t,a,l)=>{let o=l.filter(n=>Object.values(n).join(" ").toLowerCase().includes(t.toLowerCase()));a==="Date"?o.sort((n,d)=>new Date(n.date)-new Date(d.date)):a==="Name"&&o.sort((n,d)=>n.name.localeCompare(d.name)),f(o)},[y,E]=s.useState(!0);return e.jsx(e.Fragment,{children:e.jsx(_,{children:e.jsx(r.div,{className:" main-container1 margin-container",children:e.jsxs("div",{className:"container margin-container",children:[e.jsx(b,{children:e.jsx(r.h2,{className:" fw-bold ms-3",children:"Night Shift"})}),e.jsx(r.div,{className:"mt-4",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:C})}),e.jsx("div",{children:e.jsxs("select",{className:"ms-2",name:"sortBy",id:"sortBy",style:{height:"30px"},value:c,onChange:N,children:[e.jsx("option",{value:"Date",children:"Date"}),e.jsx("option",{value:"Name",children:"Name"})]})})]})}),e.jsx(r.div,{className:"table-responsive  container",children:e.jsxs("table",{class:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Actions"})]})}),e.jsx("tbody",{children:p.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.name}),e.jsx("td",{children:t.email}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-success",onClick:()=>h(`/attendace-list/${t._id}`),children:"View Attendance"})})]},t._id))})]})})]})})})})};export{I as default};
