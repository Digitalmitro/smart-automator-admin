import{r as s,k as ie,j as n}from"./index-_oFzRGsN.js";import{a as x}from"./logo-CSkKVHs_.js";import{Q as te,B as N}from"./ReactToastify-iM3XEq0i.js";import{I as j,T as oe}from"./index-CmMRJK4g.js";import{C as se}from"./CCard-BXIBBHvo.js";import{C as ne}from"./CCardHeader-d4jxurG0.js";import{m as U}from"./proxy-xutnNBsr.js";import{C as ae}from"./CCardBody-F3nw6wJN.js";import{c as E}from"./index-C8ql0GaC.js";import{a as re,g as le,m as me,r as ce,B,h as de}from"./UnstableContext-lQG3gTyD.js";import{c as pe,B as ge}from"./ContextIsolator-B3EkiyjK.js";import{S as K}from"./index-C69C2Ofz.js";import"./clsx-B-dksMZM.js";import"./context-jyGzWJIQ.js";import"./objectWithoutPropertiesLoose-B1ybE26K.js";import"./SearchOutlined-CvgMnVdh.js";import"./EyeOutlined-DawV-E7-.js";import"./index-ghOtm5bj.js";import"./PurePanel-DkWmOnk8.js";import"./CheckOutlined-aZpghDjK.js";function ue(e,i,t){var o=t||{},a=o.noTrailing,c=a===void 0?!1:a,r=o.noLeading,g=r===void 0?!1:r,p=o.debounceMode,C=p===void 0?void 0:p,S,_=!1,f=0;function b(){S&&clearTimeout(S)}function M(l){var u=l||{},d=u.upcomingOnly,P=d===void 0?!1:d;b(),_=!P}function I(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var P=this,h=Date.now()-f;if(_)return;function m(){f=Date.now(),i.apply(P,u)}function A(){S=void 0}!g&&C&&!S&&m(),b(),C===void 0&&h>e?g?(f=Date.now(),c||(S=setTimeout(C?A:m,e))):m():c!==!0&&(S=setTimeout(C?A:m,C===void 0?e-h:e))}return I.cancel=M,I}function Ce(e,i,t){var o={},a=o.atBegin,c=a===void 0?!1:a;return ue(e,i,{debounceMode:c!==!1})}const F=100,V=F/5,X=F/2-V/2,G=X*2*Math.PI,W=50,z=e=>{const{dotClassName:i,style:t,hasCircleCls:o}=e;return s.createElement("circle",{className:E(`${i}-circle`,{[`${i}-circle-bg`]:o}),r:X,cx:W,cy:W,strokeWidth:V,style:t})},Se=e=>{let{percent:i,prefixCls:t}=e;const o=`${t}-dot`,a=`${o}-holder`,c=`${a}-hidden`,[r,g]=s.useState(!1);re(()=>{i!==0&&g(!0)},[i!==0]);const p=Math.max(Math.min(i,100),0);if(!r)return null;const C={strokeDashoffset:`${G/4}`,strokeDasharray:`${G*p/100} ${G*(100-p)/100}`};return s.createElement("span",{className:E(a,`${o}-progress`,p<=0&&c)},s.createElement("svg",{viewBox:`0 0 ${F} ${F}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":p},s.createElement(z,{dotClassName:o,hasCircleCls:!0}),s.createElement(z,{dotClassName:o,style:C})))};function fe(e){const{prefixCls:i,percent:t=0}=e,o=`${i}-dot`,a=`${o}-holder`,c=`${a}-hidden`;return s.createElement(s.Fragment,null,s.createElement("span",{className:E(a,t>0&&c)},s.createElement("span",{className:E(o,`${i}-dot-spin`)},[1,2,3,4].map(r=>s.createElement("i",{className:`${i}-dot-item`,key:r})))),s.createElement(Se,{prefixCls:i,percent:t}))}function Pe(e){const{prefixCls:i,indicator:t,percent:o}=e,a=`${i}-dot`;return t&&s.isValidElement(t)?pe(t,{className:E(t.props.className,a),percent:o}):s.createElement(fe,{prefixCls:i,percent:o})}const he=new B("antSpinMove",{to:{opacity:1}}),_e=new B("antRotate",{to:{transform:"rotate(405deg)"}}),Ee=e=>{const{componentCls:i,calc:t}=e;return{[i]:Object.assign(Object.assign({},ce(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${i}-text`]:{fontSize:e.fontSize,paddingTop:t(t(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[i]:{[`${i}-dot-holder`]:{color:e.colorWhite},[`${i}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${i}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${i}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(e.dotSize).mul(-1).div(2).equal()},[`${i}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${i}-dot`]:{margin:t(e.dotSizeSM).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:t(t(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${i}-dot`]:{margin:t(e.dotSizeLG).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:t(t(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${i}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${i}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${i}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${i}-dot-progress`]:{position:"absolute",inset:0},[`${i}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(e.dotSize).sub(t(e.marginXXS).div(2)).div(2).equal(),height:t(e.dotSize).sub(t(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:he,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:_e,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(o=>`${o} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${i}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${i}-dot-holder`]:{i:{width:t(t(e.dotSizeSM).sub(t(e.marginXXS).div(2))).div(2).equal(),height:t(t(e.dotSizeSM).sub(t(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${i}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${i}-dot-holder`]:{i:{width:t(t(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:t(t(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${i}-show-text ${i}-text`]:{display:"block"}})}},be=e=>{const{controlHeightLG:i,controlHeight:t}=e;return{contentHeight:400,dotSize:i/2,dotSizeSM:i*.35,dotSizeLG:t}},Ie=le("Spin",e=>{const i=me(e,{spinDotDefault:e.colorTextDescription});return[Ee(i)]},be),Ne=200,H=[[30,.05],[70,.03],[96,.01]];function Ae(e,i){const[t,o]=s.useState(0),a=s.useRef(null),c=i==="auto";return s.useEffect(()=>(c&&e&&(o(0),a.current=setInterval(()=>{o(r=>{const g=100-r;for(let p=0;p<H.length;p+=1){const[C,S]=H[p];if(r<=C)return r+g*S}return r})},Ne)),()=>{clearInterval(a.current)}),[c,e]),c?t:i}var De=function(e,i){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t};let q;function Me(e,i){return!!e&&!!i&&!Number.isNaN(Number(i))}const Y=e=>{var i;const{prefixCls:t,spinning:o=!0,delay:a=0,className:c,rootClassName:r,size:g="default",tip:p,wrapperClassName:C,style:S,children:_,fullscreen:f=!1,indicator:b,percent:M}=e,I=De(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:l,direction:u,className:d,style:P,indicator:h}=de("spin"),m=l("spin",t),[A,O,w]=Ie(m),[D,$]=s.useState(()=>o&&!Me(o,a)),J=Ae(D,M);s.useEffect(()=>{if(o){const v=Ce(a,()=>{$(!0)});return v(),()=>{var R;(R=v==null?void 0:v.cancel)===null||R===void 0||R.call(v)}}$(!1)},[a,o]);const L=s.useMemo(()=>typeof _<"u"&&!f,[_,f]),Q=E(m,d,{[`${m}-sm`]:g==="small",[`${m}-lg`]:g==="large",[`${m}-spinning`]:D,[`${m}-show-text`]:!!p,[`${m}-rtl`]:u==="rtl"},c,!f&&r,O,w),Z=E(`${m}-container`,{[`${m}-blur`]:D}),k=(i=b??h)!==null&&i!==void 0?i:q,ee=Object.assign(Object.assign({},P),S),T=s.createElement("div",Object.assign({},I,{style:ee,className:Q,"aria-live":"polite","aria-busy":D}),s.createElement(Pe,{prefixCls:m,indicator:k,percent:J}),p&&(L||f)?s.createElement("div",{className:`${m}-text`},p):null);return A(L?s.createElement("div",Object.assign({},I,{className:E(`${m}-nested-loading`,C,O,w)}),D&&s.createElement("div",{key:"loading"},T),s.createElement("div",{className:Z,key:"container"},_)):f?s.createElement("div",{className:E(`${m}-fullscreen`,{[`${m}-fullscreen-show`]:D},r,O,w)},T):T)};Y.setDefaultIndicator=e=>{q=e};var y={ACLOCAL_PATH:"C:\\Program Files\\Git\\mingw64\\share\\aclocal;C:\\Program Files\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\ADMIN\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133759547348205085",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_11816_BTDXZNZQNMAPQOQO",COLOR:"1",COLORTERM:"truecolor",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-1EFI1SK",COMSPEC:"C:\\Windows\\system32\\cmd.exe",CONFIG_SITE:"C:/Program Files/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",EXEPATH:"C:\\Program Files\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\ADMIN",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\ADMIN",HOSTNAME:"DESKTOP-1EFI1SK",INFOPATH:"C:\\Program Files\\Git\\mingw64\\local\\info;C:\\Program Files\\Git\\mingw64\\share\\info;C:\\Program Files\\Git\\usr\\local\\info;C:\\Program Files\\Git\\usr\\share\\info;C:\\Program Files\\Git\\usr\\info;C:\\Program Files\\Git\\share\\info",INIT_CWD:"E:\\soumen\\business_listing\\smart-automator-admin",LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\ADMIN\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-1EFI1SK",MANPATH:"C:\\Program Files\\Git\\mingw64\\local\\man;C:\\Program Files\\Git\\mingw64\\share\\man;C:\\Program Files\\Git\\usr\\local\\man;C:\\Program Files\\Git\\usr\\share\\man;C:\\Program Files\\Git\\usr\\man;C:\\Program Files\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Program Files/Git/mingw64",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Program Files/Git/mingw64",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\ADMIN\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\ADMIN\\.npm-init.js",npm_config_local_prefix:"E:\\soumen\\business_listing\\smart-automator-admin",npm_config_node_gyp:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"11.0.0",npm_config_prefix:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\ADMIN\\.npmrc",npm_config_user_agent:"npm/11.0.0 node/v22.11.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"E:\\soumen\\business_listing\\smart-automator-admin\\package.json",npm_package_name:"@coreui/coreui-free-react-admin-template",npm_package_version:"5.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"2",OneDrive:"C:\\Users\\ADMIN\\OneDrive",ORIGINAL_PATH:"C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\ADMIN\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Windows\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Program Files\\MongoDB\\Server\\8.0\\data;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\ADMIN\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\ADMIN\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\\Users\\ADMIN\\AppData\\Roaming\\npm",ORIGINAL_TEMP:"C:/Users/ADMIN/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/ADMIN/AppData/Local/Temp",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",PATH:"E:\\soumen\\business_listing\\smart-automator-admin\\node_modules\\.bin;E:\\soumen\\business_listing\\node_modules\\.bin;E:\\soumen\\node_modules\\.bin;E:\\node_modules\\.bin;C:\\Users\\ADMIN\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\ADMIN\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\ADMIN\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Windows\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs;C:\\Program Files\\MongoDB\\Server\\8.0\\data;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\ADMIN\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\ADMIN\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\\Users\\ADMIN\\AppData\\Roaming\\npm;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Program Files\\Git\\mingw64\\lib\\pkgconfig;C:\\Program Files\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Program Files/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Program Files/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 42 Stepping 7, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"2a07",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"E:/soumen/business_listing/smart-automator-admin",SESSIONNAME:"Console",SHELL:"C:\\Program Files\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Program Files/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\Windows",TEMP:"C:\\Users\\ADMIN\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.83.1",TMP:"C:\\Users\\ADMIN\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\ADMIN\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-1EFI1SK",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-1EFI1SK",USERNAME:"ADMIN",USERPROFILE:"C:\\Users\\ADMIN",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-1a767ad9e5-sock",WINDIR:"C:\\Windows",_:"C:/Program Files/Microsoft VS Code/Code.exe"};const{Option:ve}=K,Ye=()=>{const e=ie(),[i,t]=s.useState(null),[o,a]=s.useState(!1),c=localStorage.getItem("token"),[r,g]=s.useState({heading:"",banner:"",description:"",blogs:[]}),[p,C]=s.useState([]),[S,_]=s.useState(!1),f=async()=>{await x.get(`${y.REACT_APP_BACKEND_API}/home-cms`).then(l=>{const u=l.data.homeCMS.homePage.blogs.map(d=>d._id);g({...l.data.homeCMS.homePage,blogs:u})}).catch(l=>{console.log(l)})},b=async()=>{_(!0),await x.get(`${y.REACT_APP_BACKEND_API}/admin/blogs`,{headers:{token:c}}).then(l=>{console.log(l.data);const u=l.data.data.blogs.map(d=>({label:d.title,value:d._id}));C(u)}).catch(l=>{N.error("Failed to fetch blogs")}).finally(()=>{_(!1)})},M=async l=>{var P,h;const u=l.target.files[0];if(!u){N.error("Please select a valid file.");return}const d=new FormData;d.append("file",u),a(!0);try{const m=await x.post(`${y.REACT_APP_BACKEND_API}/upload`,d,{headers:{token:c,"Content-Type":"multipart/form-data"}});t(m.data.fileUrl),g({...r,banner:m.data.fileUrl}),N.success("Image uploaded successfully")}catch(m){N.error(((h=(P=m.response)==null?void 0:P.data)==null?void 0:h.message)||"Failed to upload image")}finally{a(!1)}},I=async l=>{var d,P;if(l.preventDefault(),!i&&!r.banner){N.error("Please upload an image before submitting.");return}const u={heading:r.heading,banner:r.banner,description:r.description,blogs:r.blogs};try{const h=await x.post(`${y.REACT_APP_BACKEND_API}/admin/home-cms`,u,{headers:{token:c}});N.success(h.data.message||"Home Page content updated successfully"),f(),t("")}catch(h){N.error(((P=(d=h.response)==null?void 0:d.data)==null?void 0:P.message)||"Failed to update home page content")}};return s.useEffect(()=>{f(),b()},[]),s.useEffect(()=>{c||e("/login")},[c]),n.jsxs(n.Fragment,{children:[n.jsx(te,{}),n.jsxs(se,{className:"mb-4",children:[n.jsx(ne,{className:"d-flex",style:{justifyContent:"space-between"},children:n.jsx(U.h2,{className:"fw-bold",style:{marginBottom:"40px"},children:"Manage Home Page Content"})}),n.jsx(ae,{children:n.jsx(U.div,{children:n.jsxs("form",{onSubmit:I,className:"row g-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{htmlFor:"inputName",className:"form-label",children:"Heading"}),n.jsx(j,{value:r.heading,onChange:l=>g({...r,heading:l.target.value}),placeholder:"Enter heading"})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{htmlFor:"inputDescription",className:"form-label",children:"Description"}),n.jsx(oe,{value:r.description,onChange:l=>g({...r,description:l.target.value}),placeholder:"Enter description"})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{htmlFor:"inputImage",className:"form-label",children:"Upload Banner"}),n.jsx(j,{type:"file",onChange:M})]}),n.jsx("div",{className:"col-md-6",children:o?n.jsx("div",{className:"text-center",children:n.jsx(Y,{size:"large"})}):(i||r.banner)&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label",children:"Preview"}),n.jsx("img",{src:i??r.banner,className:"img-fluid rounded-3",alt:"Banner"})]})}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{htmlFor:"inputBlogs",className:"form-label",children:"Select Blogs"}),n.jsx(K,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select Blogs",value:r.blogs,onChange:l=>g({...r,blogs:l}),children:p.map(l=>n.jsx(ve,{value:l.value,children:l.label},l.value))})]}),n.jsx("div",{className:"col-md-6",children:n.jsx(ge,{type:"primary",htmlType:"submit",disabled:o||S,children:"Save Changes"})})]})})})]})]})};export{Ye as default};
