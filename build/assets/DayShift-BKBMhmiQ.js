import{k as A,r as a,j as e}from"./index-C3g2134x.js";import{a as D}from"./logo-CSkKVHs_.js";import{C as S}from"./CCard-CJAXVKeb.js";import{m as r}from"./proxy-0-9FxVb5.js";import{C as y}from"./CCardHeader-BjuGo4YC.js";var _={REACT_APP_BACKEND_API:"https://api.smartautomator.com"};const I=()=>{const h=A(),[m,x]=a.useState([]),[c,j]=a.useState(""),[i,u]=a.useState("Date"),[p,f]=a.useState([]),v=async()=>{const t=await D.get(`${_.REACT_APP_BACKEND_API}/alluser`);x(t.data);const s=t.data.filter(l=>l.type==="Day");g(c,i,s)};console.log(m),a.useEffect(()=>{v()},[c,i]);const C=t=>{j(t.target.value)},N=t=>{u(t.target.value)},g=(t,s,l)=>{let o=l.filter(n=>Object.values(n).join(" ").toLowerCase().includes(t.toLowerCase()));s==="Date"?o.sort((n,d)=>new Date(n.date)-new Date(d.date)):s==="Name"&&o.sort((n,d)=>n.name.localeCompare(d.name)),f(o)},[b,E]=a.useState(!0);return e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsx(r.div,{className:" main-container1 margin-container",children:e.jsxs("div",{className:"container margin-container",children:[e.jsx(y,{children:e.jsx(r.h2,{className:" fw-bold ms-3",children:"Day Shift Attendance"})}),e.jsx(r.div,{className:"mt-4",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:C})}),e.jsx("div",{children:e.jsxs("select",{className:"ms-2",name:"sortBy",id:"sortBy",style:{height:"30px"},value:i,onChange:N,children:[e.jsx("option",{value:"Date",children:"Date"}),e.jsx("option",{value:"Name",children:"Name"})]})})]})}),e.jsx(r.div,{className:"table-responsive  container",children:e.jsxs("table",{class:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Actions"})]})}),e.jsx("tbody",{children:p.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.name}),e.jsx("td",{children:t.email}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-success",onClick:()=>h(`/attendace-list/${t._id}`),children:"View Attendance"})})]},t._id))})]})})]})})})})};export{I as default};
