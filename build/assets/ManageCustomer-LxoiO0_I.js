import{r as t,j as e}from"./index-Cb6zMgq2.js";import{b as m}from"./logo-0TUeJTsT.js";import{C as j}from"./CCard-Dhvwf52-.js";import{C as k}from"./DefaultLayout-BxntL41T.js";import{C}from"./CCardBody-CrIBeVSF.js";import{B as f}from"./ContextIsolator-B-0zU4bT.js";import{M as S}from"./index-ZuO1TzNg.js";import"./index.esm-zhEQeULg.js";import"./cil-user-Dlmw-Gem.js";import"./index-BuiqcEfy.js";import"./context-hTwliK6o.js";import"./render-CUR-V2u9.js";import"./objectWithoutPropertiesLoose-CTt-VX4r.js";import"./CheckCircleFilled-DQbStsHZ.js";import"./InfoCircleFilled-D0qu0lZW.js";import"./index-B3CK4yjU.js";import"./PurePanel-CCnRr9g3.js";var c={NVM_INC:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/include/node",TERM_PROGRAM:"vscode",NODE:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/bin/node",INIT_CWD:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin",NVM_CD_FLAGS:"-q",TERM:"xterm-256color",SHELL:"/bin/zsh",npm_config_metrics_registry:"https://registry.npmjs.org/",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/ql/jd0xszm140z52480mgn4sph40000gn/T/",npm_config_global_prefix:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1",TERM_PROGRAM_VERSION:"1.68.0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin",NVM_DIR:"/Users/sayaksengupta/.nvm",USER:"sayaksengupta",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.9TW410B9YU/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin/node_modules/.bin:/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/node_modules/.bin:/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/node_modules/.bin:/Users/sayaksengupta/Desktop/DigitalMitro/node_modules/.bin:/Users/sayaksengupta/Desktop/node_modules/.bin:/Users/sayaksengupta/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/sayaksengupta/.nvm/versions/node/v20.5.1/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/homebrew/opt/openjdk@17/bin:/Users/sayaksengupta/.nvm/versions/node/v20.5.1/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/opt/homebrew/opt/openjdk@17/bin:/Users/sayaksengupta/.nvm/versions/node/v20.5.1/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/Users/sayaksengupta/development/flutter/bin:/Users/sayaksengupta/mongodb-macos-aarch64-7.0.12/bin:/Users/sayaksengupta/development/flutter/bin:/Users/sayaksengupta/mongodb-macos-aarch64-7.0.12/bin",npm_package_json:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin/package.json",_:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin/node_modules/.bin/vite",npm_config_userconfig:"/Users/sayaksengupta/.npmrc",npm_config_init_module:"/Users/sayaksengupta/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/sayaksengupta/Desktop/DigitalMitro/Smart Automator/Smart Automator Admin/smart-automator-admin",JAVA_HOME:"/opt/homebrew/opt/openjdk@17",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"@coreui/coreui-free-react-admin-template",LANG:"en_GB.UTF-8",npm_config_npm_version:"9.8.0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_config_node_gyp:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"5.0.0",XPC_SERVICE_NAME:"0",SHLVL:"2",HOME:"/Users/sayaksengupta",VSCODE_GIT_ASKPASS_MAIN:"/private/var/folders/ql/jd0xszm140z52480mgn4sph40000gn/T/AppTranslocation/1FEBBF32-087D-40AA-9BA4-F4246D629BDD/d/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",HOMEBREW_PREFIX:"/opt/homebrew",npm_config_cache:"/Users/sayaksengupta/.npm",LOGNAME:"sayaksengupta",npm_lifecycle_script:"vite build",VSCODE_GIT_IPC_HANDLE:"/var/folders/ql/jd0xszm140z52480mgn4sph40000gn/T/vscode-git-30aa27c3a1.sock",NVM_BIN:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/bin",npm_config_user_agent:"npm/9.8.0 node/v20.5.1 darwin arm64 workspaces/false",GIT_ASKPASS:"/private/var/folders/ql/jd0xszm140z52480mgn4sph40000gn/T/AppTranslocation/1FEBBF32-087D-40AA-9BA4-F4246D629BDD/d/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/private/var/folders/ql/jd0xszm140z52480mgn4sph40000gn/T/AppTranslocation/1FEBBF32-087D-40AA-9BA4-F4246D629BDD/d/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",npm_node_execpath:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1/bin/node",npm_config_prefix:"/Users/sayaksengupta/.nvm/versions/node/v20.5.1",COLORTERM:"truecolor",NODE_ENV:"production",REACT_APP_BACKEND_API:"https://api.smartautomator.com"};const K=()=>{const[i,u]=t.useState([]),[D,_]=t.useState([]),[o,g]=t.useState("");t.useEffect(()=>{h()},[o]);const h=async()=>{try{const{data:s}=await m.get(`${c.REACT_APP_BACKEND_API}/getclients`);u(s),_(s)}catch(s){console.log(s)}},x=s=>s==null?void 0:s.reduce((a,r)=>a+r.price*r.qty,0);console.log(i);const b=s=>{g(s.target.value)},p=i==null?void 0:i.filter(s=>{var a,r,l;return((a=s==null?void 0:s.firstName)==null?void 0:a.toLowerCase().includes(o.toLowerCase()))||((r=s==null?void 0:s.displayName)==null?void 0:r.toLowerCase().includes(o.toLowerCase()))||((l=s==null?void 0:s.email)==null?void 0:l.toLowerCase().includes(o.toLowerCase()))}),[n,y]=t.useState([]);async function A(s){try{const{data:a}=await m.get(`${c.REACT_APP_BACKEND_API}/order/${s}`);y(a.order)}catch(a){console.log(a)}}console.log(n);const[v,d]=t.useState(!1);return e.jsxs(j,{children:[e.jsx(k,{children:e.jsx("h3",{children:"Manage Customers"})}),e.jsxs(C,{children:[e.jsxs("div",{className:"d-flex mb-3",children:[e.jsx("h4",{children:"Customer"}),e.jsx("input",{value:o,onChange:b,type:"search",className:"ms-5 border border-black",style:{borderRadius:"5px"}})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Username"}),e.jsx("th",{scope:"col",children:"Last Active"}),e.jsx("th",{scope:"col",children:"Date Registered"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Orders"}),e.jsx("th",{scope:"col",children:"Actions"})]})}),e.jsx("tbody",{children:p==null?void 0:p.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.firstName?s.firstName+" "+s.lastName:"--"}),e.jsx("td",{children:s.displayName||"--"}),e.jsx("td",{children:s.lastActive||"--"}),e.jsx("td",{children:s.registerDate||"--"}),e.jsx("td",{children:s.email||"--"}),e.jsx("td",{children:s.order.length||"--"}),e.jsx("td",{children:e.jsx(f,{onClick:()=>{A(s._id),d(!0)},variant:"contained",color:"success",children:"View Orders"})})]},s._id))})]})}),e.jsx(S,{title:"Order Details",style:{height:"400px",overflowY:"auto"},centered:!0,open:v,onOk:()=>d(!1),onCancel:()=>d(!1),children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Order ID"}),e.jsx("th",{scope:"col",children:"Title"}),e.jsx("th",{scope:"col",children:"Price"}),e.jsx("th",{scope:"col",children:"Quantity"})]})}),e.jsx("tbody",{children:n==null?void 0:n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s._id}),e.jsx("td",{children:s.title}),e.jsxs("td",{children:["$ ",s.price]}),e.jsx("td",{children:s.qty})]},s._id))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("p",{children:"Total Spent:"}),e.jsxs("p",{children:["$ ",x(n).toFixed(2)]})]}),e.jsx("hr",{})]})})]})]})};export{K as default};
